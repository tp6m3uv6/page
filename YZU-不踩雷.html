<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>æƒ…ç·’å°å‹‡å£«SELæ¸¬é©—</title>
  <style>
    body {
      background: #f8f6e9;
      font-family: 'Microsoft JhengHei', 'Arial', sans-serif;
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    
    /* åˆ©æ¨‚åŒ…åŒ…è£é¢¨æ ¼ */
    .milk-carton {
      background: #fff;
      width: 320px;
      max-width: 90%;
      border-radius: 16px;
      box-shadow: 0 5px 30px rgba(0,0,0,0.15);
      margin: 20px auto;
      position: relative;
      overflow: hidden;
    }
    
    .carton-top {
      background: #5bb393;
      height: 60px;
      width: 100%;
      border-radius: 16px 16px 0 0;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-weight: bold;
      font-size: 1.8em;
      box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    }
    
    .carton-top::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 15px;
      background: #4a9a79;
    }
    
    .carton-content {
      padding: 20px;
      position: relative;
      z-index: 1;
    }
    
    .carton-window {
      background: #f7f7f2;
      border: 6px solid #5bb393;
      border-radius: 16px;
      padding: 20px;
      margin: 15px auto;
      position: relative;
      text-align: center;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
    }
    
    .carton-label {
      background: #5bb393;
      color: white;
      border-radius: 18px;
      padding: 8px 16px;
      margin: 10px auto;
      display: inline-block;
      font-weight: bold;
      font-size: 1.1em;
    }
    
    .carton-footer {
      background: #5bb393;
      padding: 15px;
      border-radius: 0 0 16px 16px;
      text-align: center;
      color: white;
      font-weight: bold;
    }
    
    .emoji-character {
      width: 100px;
      height: 100px;
      background: #fff;
      border-radius: 50%;
      margin: 0 auto 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 65px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .center { text-align: center; }
    
    .tag-row { 
      display: flex; 
      flex-wrap: wrap; 
      gap: 10px; 
      justify-content: center; 
      margin-bottom: 20px; 
    }
    
    .tag { 
      border-radius: 20px; 
      padding: 6px 16px; 
      font-size: 0.95em; 
      font-weight: 500; 
      color: #333; 
      display: inline-block;
    }
    
    .tag-yellow { background: #fff9c4; }
    .tag-green { background: #d0f9e1; }
    .tag-blue { background: #dbeafe; }
    .tag-orange { background: #ffe0b2; }
    .tag-pink { background: #ffe0f0; }
    
    .btn-main {
      background: #5bb393;
      color: #fff;
      border: none;
      border-radius: 22px;
      font-size: 1.1em;
      padding: 12px 38px;
      cursor: pointer;
      margin-top: 15px;
      margin-bottom: 0;
      transition: background 0.2s;
      box-shadow: 0 3px 8px rgba(91,179,147,0.3);
    }
    
    .btn-main:hover { 
      background: #4a9a79; 
      transform: translateY(-2px);
    }
    
    /* æ¸¬é©—é  */
    .quiz-header { 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      margin-bottom: 15px; 
    }
    
    .quiz-label {
      background: #fff9c4;
      color: #444;
      font-size: 1em;
      border-radius: 14px;
      padding: 4px 16px;
      font-weight: 500;
      margin-left: 10px;
    }
    
    .progress-bar-bg {
      width: 100%;
      height: 16px;
      background: #ececec;
      border-radius: 8px;
      margin: 18px 0 22px 0;
    }
    
    .progress-bar-fill {
      height: 100%;
      background: #7fd6c7;
      border-radius: 8px;
      transition: width 0.3s;
    }
    
    .quiz-q {
      font-size: 1.25em;
      color: #333;
      margin-bottom: 20px;
      font-weight: 500;
    }
    
    .opt-list { 
      list-style: none; 
      padding: 0; 
      margin: 0 0 22px 0; 
    }
    
    .opt-item {
      border: 2px solid #d3e2db;
      border-radius: 14px;
      margin-bottom: 15px;
      padding: 16px 20px;
      font-size: 1.05em;
      cursor: pointer;
      display: flex;
      align-items: center;
      transition: all 0.2s;
      background: #fff;
    }
    
    .opt-item.selected, .opt-item:hover { 
      border: 2px solid #5bb393; 
      background: #f0faf8; 
    }
    
    .opt-radio {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #5bb393;
      margin-right: 16px;
      display: inline-block;
      position: relative;
    }
    
    .opt-item.selected .opt-radio:after {
      content: '';
      display: block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #5bb393;
      position: absolute;
      top: 4px;
      left: 4px;
    }
    
    .quiz-btn-row { 
      display: flex; 
      justify-content: space-between; 
    }
    
    .btn-quiz {
      border: none;
      border-radius: 22px;
      font-size: 1.05em;
      padding: 10px 32px;
      cursor: pointer;
      margin-top: 8px;
      margin-bottom: 0;
      transition: all 0.2s;
    }
    
    .btn-prev { 
      background: #ffbdbd; 
      color: #fff; 
    }
    
    .btn-prev:hover { 
      background: #ff8a8a; 
      transform: translateY(-2px);
    }
    
    .btn-next { 
      background: #7fd6c7; 
      color: #fff; 
    }
    
    .btn-next:hover { 
      background: #5bb393; 
      transform: translateY(-2px);
    }
    
    /* çµæœé  */
    .result-title { 
      color: #5bb393; 
      font-size: 1.35em; 
      font-weight: bold; 
      margin-bottom: 15px; 
    }
    
    .result-character {
      width: 100px;
      height: 100px;
      background: #5bb393;
      border-radius: 50%;
      margin: 0 auto 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 50px;
      color: white;
      box-shadow: 0 3px 12px rgba(91,179,147,0.3);
    }
    
    .result-role { 
      font-size: 1.2em; 
      font-weight: bold; 
      margin: 12px 0 8px 0; 
      color: #333; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      gap: 8px;
    }
    
    .result-desc { 
      color: #444; 
      font-size: 1em; 
      margin-bottom: 22px; 
    }
    
    .score-block {
      border-radius: 14px;
      margin-bottom: 14px;
      padding: 12px 15px 10px 15px;
      text-align: left;
      font-size: 1em;
      font-weight: 500;
      position: relative;
      overflow: hidden;
    }
    
    .score-block::after {
      content: "ğŸ¥›";
      position: absolute;
      right: 10px;
      top: 8px;
      font-size: 1.2em;
      opacity: 0.2;
    }
    
    .score-bar-bg { 
      width: 100%; 
      height: 16px; 
      background: rgba(255,255,255,0.5); 
      border-radius: 8px; 
      margin-top: 8px; 
    }
    
    .score-bar-fill { 
      height: 100%; 
      border-radius: 8px; 
    }
    
    .score-yellow { background: #ffe082; }
    .score-green { background: #b2f2c8; }
    .score-blue { background: #b3d4fc; }
    .score-orange { background: #ffd59e; }
    .score-pink { background: #ffd1e3; }
    
    .btn-retry {
      background: #5bb393;
      color: #fff;
      border: none;
      border-radius: 22px;
      font-size: 1.08em;
      padding: 12px 36px;
      cursor: pointer;
      margin-top: 20px;
      margin-bottom: 10px;
      transition: all 0.2s;
      box-shadow: 0 3px 8px rgba(91,179,147,0.3);
    }
    
    .btn-retry:hover { 
      background: #4a9a79; 
      transform: translateY(-2px);
    }
  </style>
</head>
<body>
  <!-- é¦–é  - åˆ©æ¨‚åŒ…é€ å‹ -->
  <div class="milk-carton" id="home">
    <div class="carton-top">æƒ…ç·’å°å‹‡å£«</div>
    <div class="carton-content">
      <div class="carton-window">
        <div class="emoji-character">ğŸ§ </div>
        <div class="carton-label">EQæ¸¬é©—</div>
        <div style="margin:15px 0;color:#444;">
          å“ˆå›‰ï¼æƒ³çŸ¥é“ä½ å’Œæƒ…ç·’ç›¸è™•çš„èƒ½åŠ›æœ‰å¤šå¼·å—ï¼Ÿ<br>
          è®“æˆ‘å€‘ä¸€èµ·ä¾†æ¢ç´¢ä½ çš„æƒ…ç·’ä¸–ç•Œå§ï¼
        </div>
        <div class="tag-row">
          <span class="tag tag-yellow">è‡ªæˆ‘è¦ºå¯Ÿ</span>
          <span class="tag tag-green">æƒ…ç·’ç®¡ç†</span>
          <span class="tag tag-blue">ç¤¾æœƒè¦ºå¯Ÿ</span>
          <span class="tag tag-orange">äººéš›æŠ€å·§</span>
          <span class="tag tag-pink">è² è²¬ä»»çš„æ±ºç­–</span>
        </div>
      </div>
      <div class="center">
        <button class="btn-main" onclick="startQuiz()">é–‹å§‹æ¸¬é©—</button>
      </div>
    </div>
    <div class="carton-footer">VITAMIN EQ+</div>
  </div>

  <!-- æ¸¬é©—é  -->
  <div class="milk-carton" id="quiz" style="display:none;">
    <div class="carton-top">æƒ…ç·’å°å‹‡å£«</div>
    <div class="carton-content">
      <div class="quiz-header">
        <span id="quiz-progress">å•é¡Œ 1/10</span>
        <span class="quiz-label" id="quiz-dimension">è‡ªæˆ‘è¦ºå¯Ÿ</span>
      </div>
      <div class="progress-bar-bg">
        <div class="progress-bar-fill" id="quiz-bar" style="width:0%"></div>
      </div>
      <div class="quiz-q" id="quiz-question"></div>
      <ul class="opt-list" id="quiz-options"></ul>
      <div class="quiz-btn-row">
        <button class="btn-quiz btn-prev" onclick="prevQuiz()" id="btn-prev" style="visibility:hidden;">ä¸Šä¸€é¡Œ</button>
        <button class="btn-quiz btn-next" onclick="nextQuiz()" id="btn-next">ä¸‹ä¸€é¡Œ</button>
      </div>
    </div>
    <div class="carton-footer">VITAMIN EQ+</div>
  </div>

  <!-- çµæœé  - åˆ©æ¨‚åŒ…é€ å‹ -->
  <div class="milk-carton" id="result" style="display:none;">
    <div class="carton-top">æƒ…ç·’å°å‹‡å£«</div>
    <div class="carton-content">
      <div class="carton-window">
        <div class="result-character" id="result-emoji">ğŸ†</div>
        <div class="result-title">æ¸¬é©—çµæœ</div>
        <div class="result-role" id="result-role"></div>
        <div class="result-desc" id="result-desc"></div>
      </div>
      <div id="result-scores"></div>
      <div class="center">
        <button class="btn-retry" onclick="restartQuiz()">å†æ¬¡æ¸¬é©—</button>
      </div>
    </div>
    <div class="carton-footer">VITAMIN EQ+</div>
  </div>

<script>
const DIMENSIONS = [
  { key: 'self', label: 'è‡ªæˆ‘è¦ºå¯Ÿ', color: '#fff9c4', bar: 'score-yellow', emoji: 'ğŸ§ ' },
  { key: 'manage', label: 'æƒ…ç·’ç®¡ç†', color: '#d0f9e1', bar: 'score-green', emoji: 'ğŸŒ±' },
  { key: 'social', label: 'ç¤¾æœƒè¦ºå¯Ÿ', color: '#dbeafe', bar: 'score-blue', emoji: 'ğŸ¤' },
  { key: 'relation', label: 'äººéš›æŠ€å·§', color: '#ffe0b2', bar: 'score-orange', emoji: 'ğŸ‘«' },
  { key: 'decision', label: 'è² è²¬ä»»çš„æ±ºç­–', color: '#ffe0f0', bar: 'score-pink', emoji: 'ğŸ¯' },
];

// ã€æ›´æ–°çš„é¡Œåº«ã€‘åŒ…å«50é¡Œï¼šåŸå§‹SELé¡Œåº«æ›´æ–°25é¡Œ + è·å ´å°å‘SELé¡Œåº«25é¡Œ
const QUESTION_BANK = {
  self: [
    // è‡ªæˆ‘è¦ºå¯Ÿé¢å‘ - åŸæœ‰é¡Œåº«æ›´æ–°ç‰ˆ
    { q: "ç•¶ä½ æ„Ÿåˆ°é›£éæ™‚ï¼Œä½ èƒ½åˆ†è¾¨åŸå› å—ï¼Ÿ", opts: ["ç„¡æ³•åˆ†è¾¨ï¼Œè¦ºå¾—å°±æ˜¯é›£é","å¤§è‡´çŸ¥é“ï¼Œä½†ä¸å¤ªç¢ºå®š","é€šå¸¸èƒ½åˆ†è¾¨åŸå› ","èƒ½æ¸…æ¥šåˆ†è¾¨ä¸¦èªªæ˜åŸå› "], score: [0,1,2,3] },
    { q: "é‡åˆ°å£“åŠ›æ™‚ï¼Œä½ èƒ½å¯Ÿè¦ºè‡ªå·±çš„æƒ…ç·’è®ŠåŒ–å—ï¼Ÿ", opts: ["å®Œå…¨ç„¡æ³•å¯Ÿè¦º","å¶çˆ¾èƒ½å¯Ÿè¦º","å¤§å¤šèƒ½å¯Ÿè¦º","ç¸½æ˜¯èƒ½å¯Ÿè¦º"], score: [0,1,2,3] },
    { q: "ä½ èƒ½èªªå‡ºè‡ªå·±ç¾åœ¨çš„å¿ƒæƒ…å—ï¼Ÿ", opts: ["èªªä¸å‡ºä¾†","æœ‰æ™‚å¯ä»¥","å¤§å¤šå¯ä»¥","å¾ˆæ¸…æ¥š"], score: [0,1,2,3] },
    { q: "é¢å°å¤±æ•—æ™‚ï¼Œä½ æœƒæ€éº¼çœ‹å¾…è‡ªå·±çš„æ„Ÿå—ï¼Ÿ", opts: ["å¿½ç•¥æ„Ÿå—","è¦ºå¾—è‡ªå·±ä¸å¥½","è©¦è‘—ç†è§£æ„Ÿå—","æ­£é¢çœ‹å¾…ä¸¦å­¸ç¿’"], score: [0,1,2,3] },
    { q: "ä½ èƒ½åˆ†è¾¨ä¸åŒçš„æƒ…ç·’ï¼ˆå¦‚ç”Ÿæ°£ã€é›£éã€å®³æ€•ï¼‰å—ï¼Ÿ", opts: ["å¾ˆé›£åˆ†è¾¨","æœ‰æ™‚å¯ä»¥","å¤§å¤šå¯ä»¥","å¾ˆæ¸…æ¥š"], score: [0,1,2,3] },
    // è·å ´è‡ªæˆ‘è¦ºå¯Ÿ - æ–°å¢é¡Œåº«
    { q: "ç•¶ä¸»ç®¡çµ¦äºˆè² é¢è©•åƒ¹æ™‚ï¼Œä½ èƒ½å€åˆ†å°äº‹ä¸å°äººçš„æ‰¹è©•å—ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","å¶çˆ¾å¯ä»¥","å¤§å¤šèƒ½","ç¸½æ˜¯èƒ½"], score: [0,1,2,3] },
    { q: "å·¥ä½œå£“åŠ›å¤§æ™‚ï¼Œä½ èƒ½è¦ºå¯Ÿè‡ªå·±çš„èº«é«”åæ‡‰ï¼ˆå¦‚é ­ç—›ã€è‚Œè‚‰ç·Šç¹ƒï¼‰å—ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","å¶çˆ¾èƒ½å¯Ÿè¦º","å¤§å¤šèƒ½å¯Ÿè¦º","å®Œå…¨èƒ½å¯Ÿè¦º"], score: [0,1,2,3] },
    { q: "ä½ èƒ½å¯Ÿè¦ºå“ªäº›å·¥ä½œå ´æ™¯æœƒè§¸ç™¼ä½ çš„ç„¦æ…®æˆ–ä¸å®‰ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","æœ‰æ™‚èƒ½å¯Ÿè¦º","ç¶“å¸¸èƒ½å¯Ÿè¦º","éå¸¸æ¸…æ¥š"], score: [0,1,2,3] },
    { q: "ä½ èƒ½è¾¨åˆ¥è‡ªå·±åœ¨è·å ´ä¸­çš„å„ªå‹¢èˆ‡å¼±é»å—ï¼Ÿ", opts: ["å¾ˆé›£è¾¨åˆ¥","å¤§è‡´äº†è§£","å¤§å¤šæ¸…æ¥š","éå¸¸æ¸…æ¥š"], score: [0,1,2,3] },
    { q: "ä½ æœƒåæ€è‡ªå·±åœ¨åœ˜éšŠä¸­æ‰®æ¼”ä»€éº¼è§’è‰²ï¼Ÿ", opts: ["å¾ä¸åæ€","å¶çˆ¾åæ€","ç¶“å¸¸åæ€","ç¸½æ˜¯åæ€"], score: [0,1,2,3] }
  ],
  manage: [
    // æƒ…ç·’ç®¡ç†é¢å‘ - åŸæœ‰é¡Œåº«æ›´æ–°ç‰ˆ
    { q: "ç•¶ä½ ç”Ÿæ°£æ™‚ï¼Œä½ æœƒæ€éº¼åšï¼Ÿ", opts: ["ç›´æ¥ç™¼è„¾æ°£","å¿ä½æƒ…ç·’ä¸è¡¨é”","è©¦è‘—å†·éœä¸‹ä¾†","æ·±å‘¼å¸å¾Œç”¨å’Œå¹³æ–¹å¼è¡¨é”"], score: [0,1,2,3] },
    { q: "é‡åˆ°å£“åŠ›æ™‚ï¼Œä½ æœƒå¦‚ä½•èª¿é©ï¼Ÿ", opts: ["ä¸çŸ¥æ‰€æª","æ‰¾äººè¨´è‹¦","é‹å‹•æˆ–åšå–œæ­¡çš„äº‹","ç”¨æ­£å‘æ–¹å¼è‡ªæˆ‘æ¿€å‹µ"], score: [0,1,2,3] },
    { q: "ä½ æœƒç”¨ä»€éº¼æ–¹æ³•è®“è‡ªå·±å†·éœï¼Ÿ", opts: ["ä¸æœƒå†·éœ","è½‰ç§»æ³¨æ„åŠ›","æ·±å‘¼å¸","æœ‰å¤šç¨®æœ‰æ•ˆæ–¹æ³•"], score: [0,1,2,3] },
    { q: "ä½ æœƒç”¨ä»€éº¼æ–¹å¼èª¿æ•´è² é¢æƒ…ç·’ï¼Ÿ", opts: ["å£“æŠ‘æƒ…ç·’","ç™¼æ´©æƒ…ç·’","è½‰æ›å¿ƒæƒ…","æ­£å‘æ€è€ƒ"], score: [0,1,2,3] },
    { q: "ä½ èƒ½æ§åˆ¶è‡ªå·±çš„è¡å‹•è¡Œç‚ºå—ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","å¶çˆ¾å¯ä»¥","å¤§å¤šå¯ä»¥","ç¸½æ˜¯å¯ä»¥"], score: [0,1,2,3] },
    // è·å ´æƒ…ç·’ç®¡ç† - æ–°å¢é¡Œåº«
    { q: "ç•¶åŒäº‹è¡¨ç¾æ¯”ä½ å¥½ä¸”ç²å¾—è®šè³æ™‚ï¼Œä½ æœƒå¦‚ä½•ç®¡ç†è‡ªå·±çš„å«‰å¦’æƒ…ç·’ï¼Ÿ", opts: ["å®Œå…¨ç„¡æ³•ç®¡ç†","åŠªåŠ›å£“æŠ‘","å¤§å¤šèƒ½æ¥å—","èƒ½çœŸèª ç‚ºä»–äººé«˜èˆˆ"], score: [0,1,2,3] },
    { q: "é¢å°è·å ´ä¸­ä¸å¯æ§çš„è®Šæ•¸ï¼ˆå¦‚çµ„ç¹”é‡çµ„ï¼‰ï¼Œä½ å¦‚ä½•èª¿é©ä¸å®‰æƒ…ç·’ï¼Ÿ", opts: ["æ„Ÿåˆ°ææ…Œç„¡åŠ©","è¢«å‹•ç­‰å¾…çµæœ","å°‹æ±‚è³‡è¨Šç†è§£æƒ…æ³","ç©æ¥µæº–å‚™é©æ‡‰è®ŠåŒ–"], score: [0,1,2,3] },
    { q: "ç•¶å¤šå€‹æˆªæ­¢æ—¥æœŸåŒæ™‚åˆ°ä¾†æ™‚ï¼Œä½ æœƒå¦‚ä½•ç®¡ç†è‡ªå·±çš„ç„¦æ…®ï¼Ÿ", opts: ["æŒçºŒè™•æ–¼ç„¦æ…®ä¸­","å¿è€ç„¦æ…®å‹‰å¼·æ‡‰å°","é€éè¨ˆç•«æ¸›è¼•ç„¦æ…®","é‹ç”¨å¤šç¨®æ–¹æ³•æœ‰æ•ˆç®¡ç†å£“åŠ›"], score: [0,1,2,3] },
    { q: "é‡åˆ°å®¢æˆ¶/åŒäº‹ç„¡ç†å–é¬§æ™‚ï¼Œä½ å¦‚ä½•æ§åˆ¶è‡ªå·±çš„æƒ…ç·’åæ‡‰ï¼Ÿ", opts: ["ç«‹å³åæ“Š","æ¶ˆæ¥µå¿å—","å¹³éœä½†å …å®šåœ°å›æ‡‰","ç†è§£å°æ–¹éœ€æ±‚ä¸¦å°ˆæ¥­è™•ç†"], score: [0,1,2,3] },
    { q: "å·¥ä½œçŠ¯éŒ¯å¾Œï¼Œä½ æœƒå¦‚ä½•è™•ç†è‡ªè²¬å’ŒæŒ«æŠ˜æ„Ÿï¼Ÿ", opts: ["é•·æœŸè‡ªè²¬","æš«æ™‚æƒ…ç·’ä½è½","æ¥å—çŠ¯éŒ¯ä¸¦å°‹æ±‚æ”¹é€²","è¦–ç‚ºå­¸ç¿’æ©Ÿæœƒä¸¦æ­£å‘èª¿é©"], score: [0,1,2,3] }
  ],
  social: [
    // ç¤¾æœƒè¦ºå¯Ÿé¢å‘ - åŸæœ‰é¡Œåº«æ›´æ–°ç‰ˆ
    { q: "çœ‹åˆ°åŒå­¸å¿ƒæƒ…ä¸å¥½æ™‚ï¼Œä½ æœƒï¼Ÿ", opts: ["æ²’æ³¨æ„åˆ°","æ³¨æ„åˆ°ä½†ä¸çŸ¥å¦‚ä½•åæ‡‰","ä¸»å‹•é—œå¿ƒå°æ–¹","ä¸»å‹•é—œå¿ƒä¸¦çµ¦äºˆé©ç•¶æ”¯æŒ"], score: [0,1,2,3] },
    { q: "ä½ èƒ½ç†è§£åˆ¥äººçš„æ„Ÿå—å—ï¼Ÿ", opts: ["å¾ˆé›£ç†è§£","æœ‰æ™‚èƒ½æ„Ÿå—åˆ°","å¤§å¤šèƒ½ç†è§£","èƒ½æ·±åˆ»åŒç†å°æ–¹"], score: [0,1,2,3] },
    { q: "ä½ èƒ½å¯Ÿè¦ºä»–äººçš„éèªè¨€è¨Šæ¯ï¼ˆå¦‚è¡¨æƒ…ï¼‰å—ï¼Ÿ", opts: ["å®Œå…¨ç„¡æ³•","å¶çˆ¾èƒ½","å¤§å¤šèƒ½","ç¸½æ˜¯èƒ½"], score: [0,1,2,3] },
    { q: "ä½ æœƒå°Šé‡ä»–äººçš„ä¸åŒæ„è¦‹å—ï¼Ÿ", opts: ["å¾ä¸","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    { q: "ä½ èƒ½é«”è«’åˆ¥äººçš„å›°é›£å—ï¼Ÿ", opts: ["å¾ˆé›£","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    // è·å ´ç¤¾æœƒè¦ºå¯Ÿ - æ–°å¢é¡Œåº«
    { q: "åœ˜éšŠæœƒè­°ä¸­ï¼Œä½ èƒ½å¯Ÿè¦ºä»–äººè¡¨æƒ…è®ŠåŒ–ä¸¦èª¿æ•´è‡ªå·±çš„ç™¼è¨€å—ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","å¶çˆ¾èƒ½","ç¶“å¸¸èƒ½","ç¸½æ˜¯èƒ½"], score: [0,1,2,3] },
    { q: "ä½ èƒ½ç†è§£ä¸åŒéƒ¨é–€åŒäº‹çš„å·¥ä½œå£“åŠ›å’Œéœ€æ±‚å—ï¼Ÿ", opts: ["å¾ˆé›£ç†è§£","éƒ¨åˆ†ç†è§£","å¤§å¤šç†è§£","å®Œå…¨ç†è§£"], score: [0,1,2,3] },
    { q: "ä½ èƒ½å¯Ÿè¦ºä¸»ç®¡çš„æºé€šé¢¨æ ¼ä¸¦ç›¸æ‡‰èª¿æ•´å—ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","æœ‰æ™‚èƒ½","ç¶“å¸¸èƒ½","ç¸½æ˜¯èƒ½"], score: [0,1,2,3] },
    { q: "ä½ æ˜¯å¦èƒ½å¯Ÿè¦ºåŒäº‹é–“çš„æ½›åœ¨è¡çªä¸¦é©ç•¶ä»‹å…¥ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","å¶çˆ¾èƒ½","ç¶“å¸¸èƒ½","ç¸½æ˜¯èƒ½"], score: [0,1,2,3] },
    { q: "ä½ èƒ½ç†è§£çµ„ç¹”æ–‡åŒ–ä¸­çš„éš±å«è¦å‰‡å—ï¼Ÿ", opts: ["å®Œå…¨ä¸èƒ½","å¤§è‡´äº†è§£","æ¸…æ¥šç†è§£","æ·±å…¥ç†è§£"], score: [0,1,2,3] }
  ],
  relation: [
    // äººéš›æŠ€å·§é¢å‘ - åŸæœ‰é¡Œåº«æ›´æ–°ç‰ˆ
    { q: "èˆ‡æœ‹å‹æ„è¦‹ä¸åˆæ™‚ï¼Œä½ æœƒï¼Ÿ", opts: ["å …æŒå·±è¦‹","é¿å…è¡çªï¼Œé¸æ“‡æ²‰é»˜","å˜—è©¦æºé€šæ‰¾å…±è­˜","ä¸»å‹•å‚¾è½ä¸¦å°Šé‡å°æ–¹"], score: [0,1,2,3] },
    { q: "ä½ å¦‚ä½•è¡¨é”è‡ªå·±çš„éœ€æ±‚ï¼Ÿ", opts: ["å¾ˆå°‘è¡¨é”","åªåœ¨å¿…è¦æ™‚è¡¨é”","èƒ½é©æ™‚è¡¨é”","æ¸…æ¥šä¸”å°Šé‡åœ°è¡¨é”"], score: [0,1,2,3] },
    { q: "ä½ èƒ½å”åŠ©åœ˜éšŠè§£æ±ºè¡çªå—ï¼Ÿ", opts: ["å¾ä¸","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    { q: "ä½ æœƒä¸»å‹•é“æ­‰å—ï¼Ÿ", opts: ["å¾ä¸","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    { q: "ä½ èƒ½æ¥å—åˆ¥äººçš„å»ºè­°å—ï¼Ÿ", opts: ["å¾ˆé›£","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    // è·å ´äººéš›æŠ€å·§ - æ–°å¢é¡Œåº«
    { q: "å‘ä¸»ç®¡æå‡ºæƒ³æ³•æ™‚ï¼Œä½ æœƒå¦‚ä½•è¡¨é”ä»¥å¢åŠ è¢«æ¥ç´çš„å¯èƒ½ï¼Ÿ", opts: ["ç›´æ¥è¡¨é”ä¸è€ƒæ…®æ–¹å¼","ç°¡å–®èªªæ˜è‡ªå·±æƒ³æ³•","æ¸…æ¥šè¡¨é”ä¸¦æä¾›ç†ç”±","çµ„ç¹”å®Œæ•´è«–è¿°ä¸¦è€ƒæ…®å„æ–¹è§€é»"], score: [0,1,2,3] },
    { q: "ç•¶éœ€è¦å©‰æ‹’åŒäº‹ä¸åˆç†è«‹æ±‚æ™‚ï¼Œä½ æœƒå¦‚ä½•æºé€šï¼Ÿ", opts: ["ç›´æ¥æ‹’çµ•","æ‰¾è—‰å£æ¨è¨—","å§”å©‰ä½†ä¸æ˜ç¢º","å …å®šåˆå°Šé‡åœ°è¡¨é”ç•Œé™"], score: [0,1,2,3] },
    { q: "å¦‚ä½•åœ¨åœ˜éšŠåˆä½œä¸­è¡¨é”è‡ªå·±çš„æƒ³æ³•åˆå°Šé‡ä»–äººçš„æ„è¦‹ï¼Ÿ", opts: ["æˆ‘çš„æƒ³æ³•ç‚ºä¸»","å¤šè½å°‘èªª","æå‡ºæƒ³æ³•ä¸¦è†è½åé¥‹","ä¿ƒé€²é–‹æ”¾å°è©±ä¸¦æ•´åˆä¸åŒè§€é»"], score: [0,1,2,3] },
    { q: "èˆ‡è·¨éƒ¨é–€åŒäº‹åˆä½œæ™‚ï¼Œä½ å¦‚ä½•å»ºç«‹æœ‰æ•ˆæºé€šï¼Ÿ", opts: ["åƒ…é—œæ³¨è‡ªèº«éƒ¨é–€ä»»å‹™","åŸºæœ¬è³‡è¨Šäº¤æµ","ä¸»å‹•äº†è§£å°æ–¹éœ€æ±‚","å»ºç«‹äº’ä¿¡ä¸¦å‰µé€ å…±è´"], score: [0,1,2,3] },
    { q: "æ”¶åˆ°å»ºè¨­æ€§æ‰¹è©•æ™‚ï¼Œä½ æœƒå¦‚ä½•å›æ‡‰ä»¥ç¶­è­·è‰¯å¥½é—œä¿‚ï¼Ÿ", opts: ["æ„Ÿåˆ°è¢«å†’çŠ¯","è¢«å‹•æ¥å—","æ„Ÿè¬ä¸¦è€ƒæ…®","ç©æ¥µæ„Ÿè¬ä¸¦å°‹æ±‚å…·é«”æ”¹é€²å»ºè­°"], score: [0,1,2,3] }
  ],
  decision: [
    // è² è²¬ä»»çš„æ±ºç­–é¢å‘ - åŸæœ‰é¡Œåº«æ›´æ–°ç‰ˆ
    { q: "é‡åˆ°é¸æ“‡æ™‚ï¼Œä½ æœƒï¼Ÿ", opts: ["éš¨ä¾¿é¸ä¸€å€‹","è€ƒæ…®ä¸€ä¸‹å†æ±ºå®š","åˆ†æåˆ©å¼Šå¾Œæ±ºå®š","å…¨é¢è©•ä¼°ä¸¦é æƒ³å¾Œæœ"], score: [0,1,2,3] },
    { q: "åšæ±ºå®šå‰ï¼Œä½ æœƒè€ƒæ…®ä»–äººæ„Ÿå—å—ï¼Ÿ", opts: ["å¾ˆå°‘è€ƒæ…®","å¶çˆ¾æœƒæƒ³","å¤§å¤šæœƒè€ƒæ…®","ä¸€å®šæœƒè€ƒæ…®"], score: [0,1,2,3] },
    { q: "ä½ æœƒç‚ºè‡ªå·±çš„æ±ºå®šè² è²¬å—ï¼Ÿ", opts: ["å¾ä¸","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    { q: "ä½ æœƒåæ€è‡ªå·±çš„æ±ºç­–å—ï¼Ÿ", opts: ["å¾ä¸","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    { q: "ä½ åšæ±ºå®šæ™‚æœƒè€ƒæ…®å…¬å¹³å—ï¼Ÿ", opts: ["å¾ä¸","å¶çˆ¾","ç¶“å¸¸","ç¸½æ˜¯"], score: [0,1,2,3] },
    // è·å ´æ±ºç­–èƒ½åŠ› - æ–°å¢é¡Œåº«
    { q: "å·¥ä½œé‡è¶…å‡ºè² è·æ™‚ï¼Œä½ æœƒå¦‚ä½•æ±ºå®šä»»å‹™å„ªå…ˆé †åºï¼Ÿ", opts: ["éš¨æ©Ÿè™•ç†","è™•ç†æœ€ç·Šæ€¥çš„","ä¾ç…§é‡è¦æ€§å’Œç·Šæ€¥æ€§æ’åº","å»ºç«‹ç³»çµ±æ€§æ¡†æ¶è©•ä¼°ä¸¦å®‰æ’"], score: [0,1,2,3] },
    { q: "ç•¶ä½ çš„æ±ºç­–å¯èƒ½å½±éŸ¿åœ˜éšŠå…¶ä»–æˆå“¡æ™‚ï¼Œä½ æœƒå¦‚ä½•è€ƒé‡ï¼Ÿ", opts: ["ä¸»è¦è€ƒæ…®è‡ªå·±","è€ƒæ…®ç›´æ¥ç›¸é—œè€…","è€ƒæ…®å¤§å¤šæ•¸äººå½±éŸ¿","å…¨é¢è©•ä¼°å„æ–¹åˆ©ç›Šèˆ‡é•·æœŸå½±éŸ¿"], score: [0,1,2,3] },
    { q: "é¢å°é“å¾·å…©é›£çš„å·¥ä½œæƒ…å¢ƒï¼Œä½ æœƒå¦‚ä½•åšæ±ºå®šï¼Ÿ", opts: ["éµå¾æ¬Šå¨æŒ‡ç¤º","éµå¾ªå¤šæ•¸äººåšæ³•","ä¾å€‹äººåƒ¹å€¼åˆ¤æ–·","åŸºæ–¼åŸå‰‡ä¸¦è€ƒæ…®å¤šæ–¹å½±éŸ¿"], score: [0,1,2,3] },
    { q: "ç™¼ç¾åŒäº‹çš„éŒ¯èª¤æ™‚ï¼Œä½ æœƒåŸºæ–¼ä»€éº¼è€ƒé‡æ±ºå®šæ˜¯å¦æŒ‡å‡ºï¼Ÿ", opts: ["ç›´æ¥æŒ‡å‡ºä¸è€ƒæ…®å ´åˆ","ç§ä¸‹å‘ŠçŸ¥","è€ƒæ…®å°æ–¹æ„Ÿå—é¸æ“‡é©ç•¶æ™‚æ©Ÿ","è©•ä¼°åš´é‡æ€§ä¸¦ä»¥å»ºè¨­æ€§æ–¹å¼æºé€š"], score: [0,1,2,3] },
    { q: "ç•¶ä¸»ç®¡çš„è¦æ±‚èˆ‡å…¬å¸æ”¿ç­–æœ‰è¡çªæ™‚ï¼Œä½ æœƒå¦‚ä½•åšæ±ºå®šï¼Ÿ", opts: ["ç›´æ¥æ‹’çµ•","è¢«å‹•åŸ·è¡Œ","å§”å©‰è¡¨é”ç–‘æ…®","å°ˆæ¥­æºé€šä¸¦æå‡ºæ›¿ä»£æ–¹æ¡ˆ"], score: [0,1,2,3] }
  ]
};

// ç¸½çµèªé¡Œåº«ï¼ˆæ ¹æ“šç¸½åˆ†é«˜ä½é¡¯ç¤ºä¸åŒçµè«–ï¼‰
const SUMMARY_BANK = [
  { role: "æƒ…ç·’å¤§å¸« ğŸ†", desc: "ä½ èƒ½å…¨é¢æŒæ¡æƒ…ç·’èˆ‡äººéš›äº’å‹•ï¼Œæ˜¯å¤§å®¶å­¸ç¿’çš„æ¦œæ¨£ï¼ä½ èƒ½å¤ æ•éŠ³åœ°è¦ºå¯Ÿè‡ªå·±çš„æƒ…ç·’ï¼Œä¸¦ä¸”å–„æ–¼ç®¡ç†èˆ‡è¡¨é”ï¼ŒåŒæ™‚ä¹Ÿèƒ½åŒç†ä»–äººä¸¦åšå‡ºæˆç†Ÿè² è²¬çš„æ±ºç­–ã€‚", emoji: "ğŸ†" },
  { role: "æƒ…ç·’å­¸ç¿’è€… ğŸ“š", desc: "ä½ å·²ç¶“èƒ½å¤ èªè­˜ä¸€äº›åŸºæœ¬æƒ…ç·’ï¼Œä¸¦ä¸”é–‹å§‹å­¸ç¿’å¦‚ä½•è™•ç†å®ƒå€‘ã€‚æœ‰æ™‚å€™ä½ èƒ½å¤ æ§åˆ¶è‡ªå·±çš„æƒ…ç·’ï¼Œä½†æœ‰æ™‚å€™é‚„æ˜¯æœƒæ„Ÿåˆ°å›°é›£ã€‚æŒçºŒç·´ç¿’ï¼Œä½ æœƒè¶Šä¾†è¶Šæ£’ï¼", emoji: "ğŸ“š" },
  { role: "æƒ…ç·’æ–°æ‰‹ ğŸŒ±", desc: "ä½ æ­£é–‹å§‹æ¢ç´¢è‡ªå·±çš„æƒ…ç·’ä¸–ç•Œï¼Œå»ºè­°å¤šè§€å¯Ÿèˆ‡ç·´ç¿’ï¼Œæœƒè¶Šä¾†è¶Šé€²æ­¥ï¼å¤šå’Œèº«é‚Šçš„äººè¨è«–ã€åˆ†äº«ä½ çš„æ„Ÿå—ï¼Œæœƒæœ‰å¾ˆå¤§çš„å¹«åŠ©ã€‚", emoji: "ğŸŒ±" }
];

let quizSet = []; // 10é¡Œï¼Œæ¯é¢å‘2é¡Œ
let answers = [];
let curIdx = 0;

function startQuiz() {
  // 1. éš¨æ©ŸæŠ½å–æ¯é¢å‘2é¡Œ
  quizSet = [];
  DIMENSIONS.forEach(dim => {
    let arr = QUESTION_BANK[dim.key];
    let idxs = [];
    while (idxs.length < 2) {
      let r = Math.floor(Math.random() * arr.length);
      if (!idxs.includes(r)) idxs.push(r);
    }
    idxs.forEach(i => quizSet.push({ ...arr[i], dim: dim.key }));
  });
  // 2. æ‰“äº‚é¡Œç›®é †åº
  quizSet = quizSet.sort(() => Math.random() - 0.5);
  answers = Array(10).fill(null);
  curIdx = 0;
  document.getElementById('home').style.display = 'none';
  document.getElementById('quiz').style.display = '';
  showQuiz();
}

function showQuiz() {
  let q = quizSet[curIdx];
  let dimMeta = DIMENSIONS.find(d => d.key === q.dim);
  document.getElementById('quiz-progress').innerText = `å•é¡Œ ${curIdx + 1}/10`;
  document.getElementById('quiz-dimension').innerText = dimMeta.label;
  document.getElementById('quiz-dimension').style.background = dimMeta.color;
  document.getElementById('quiz-question').innerText = q.q;
  // progress bar
  document.getElementById('quiz-bar').style.width = `${(curIdx)/10*100}%`;
  // options
  let ul = document.getElementById('quiz-options');
  ul.innerHTML = '';
  q.opts.forEach((opt, i) => {
    let li = document.createElement('li');
    li.className = 'opt-item' + (answers[curIdx] === i ? ' selected' : '');
    li.onclick = () => { answers[curIdx] = i; showQuiz(); };
    li.innerHTML = `<span class="opt-radio"></span>${opt}`;
    ul.appendChild(li);
  });
  // ä¸Šä¸€é¡ŒæŒ‰éˆ•
  document.getElementById('btn-prev').style.visibility = curIdx === 0 ? 'hidden' : 'visible';
  // ä¸‹ä¸€é¡ŒæŒ‰éˆ•
  document.getElementById('btn-next').innerText = curIdx === 9 ? 'å®Œæˆæ¸¬é©—' : 'ä¸‹ä¸€é¡Œ';
  document.getElementById('btn-next').disabled = (answers[curIdx] === null);
}

function nextQuiz() {
  if (answers[curIdx] === null) return;
  if (curIdx === 9) {
    showResult();
  } else {
    curIdx++;
    showQuiz();
  }
}

function prevQuiz() {
  if (curIdx > 0) {
    curIdx--;
    showQuiz();
  }
}

function showResult() {
  // çµ±è¨ˆå„é¢å‘åˆ†æ•¸
  let scoreMap = { self:0, manage:0, social:0, relation:0, decision:0 };
  let maxMap = { self:0, manage:0, social:0, relation:0, decision:0 };
  quizSet.forEach((q, i) => {
    scoreMap[q.dim] += q.score[answers[i]];
    maxMap[q.dim] += Math.max(...q.score);
  });
  // ç™¾åˆ†æ¯”
  let percentMap = {};
  DIMENSIONS.forEach(dim => {
    percentMap[dim.key] = Math.round(scoreMap[dim.key] / maxMap[dim.key] * 100);
  });
  // ç¸½åˆ†
  let total = Object.values(percentMap).reduce((a,b)=>a+b,0)/5;
  // çµè«–
  let summary;
  if (total >= 85) summary = SUMMARY_BANK[0];
  else if (total >= 60) summary = SUMMARY_BANK[1];
  else summary = SUMMARY_BANK[2];

  document.getElementById('quiz').style.display = 'none';
  document.getElementById('result').style.display = '';
  document.getElementById('result-role').innerHTML = summary.role;
  document.getElementById('result-desc').innerText = summary.desc;
  document.getElementById('result-emoji').innerHTML = summary.emoji;

  // å„é¢å‘åˆ†æ•¸
  let html = '';
  DIMENSIONS.forEach(dim => {
    html += `<div class="score-block" style="background:${dim.color}">
      <div style="font-weight:600;font-size:1.08em;margin-bottom:2px;">
        ${dim.emoji} ${dim.label}
      </div>
      <div class="score-bar-bg">
        <div class="score-bar-fill ${dim.bar}" style="width:${percentMap[dim.key]}%"></div>
      </div>
      <div style="font-size:0.95em;color:#666;margin-top:6px;">${percentMap[dim.key]}% çš„èƒ½åŠ›</div>
    </div>`;
  });
  document.getElementById('result-scores').innerHTML = html;
}

function restartQuiz() {
  document.getElementById('result').style.display = 'none';
  document.getElementById('home').style.display = '';
}
</script>
</body>
</html>
